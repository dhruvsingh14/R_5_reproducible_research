---
title: "Project 2 -- Identifying and Addressing High Impact Natural Disasters"
author: "Me, Dhruv Singh"
date: "December 24, 2019"
output: html_document
---

Synopsis: 

This project utilizes years of data on storm tracking starting from 1950s onwards in order to answer the question - Which natural disasters are most disasterous to human life and economic activity?

In order to do so, it treats fatalities and injuries as indicators of damage to human life. Tabulating by the type of disaster, we are able to obtain an estimate of the types of disasters that have the highest impact on human life, and to safeguard against it accordingly.

## PART 0: SETUP
echo settings for embedding code
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Setting Directory
```{r dir}
getwd()
setwd("C:/Dhruv/misc/data/R_5_reproducible_research/wk4_documenting")
```

## PART I: PREPROCESSING DATA
Reading in strom data csv bz2:
```{r data}
storm_data <- read.csv("repdata_data_StormData.csv.bz2")
```

Loading up necessary packages:
```{r packages}
# install.packages("knitr", repos='http://cran.us.r-project.org')
library(knitr)
library(ggplot2)
```

Converting data type for categorical analysis:
```{r data type}
storm_data$EVTYPE <- as.character(storm_data$EVTYPE)
```

Aggregating data to produce summary plots:
```{r aggregating}
storm_agg <- aggregate(FATALITIES ~ EVTYPE, storm_data, FUN = sum)

# subsetting to only the highest damage incidents
storm_agg <- storm_agg[storm_agg$FATALITIES > 100 ,]
```

## PART II: RESULTS
Relevant plots:
```{r plots}
# building plot
highest_mortality <- ggplot(storm_agg, aes(x = storm_agg$EVTYPE, y = storm_agg$FATALITIES)) + 
  geom_bar(stat = "identity", fill = "steelblue") + labs(x = "Event Type", y = "Fatalities", title = "Fatalities by Event Type") + 
  theme(axis.text.x = element_text(angle = 90), legend.position="none")

# printing plot
highest_mortality
```

In the results we find that the most damaging natural disasters include Tornados and Excessive Heat, followed by Flash Floods and Lightening. All of which contain an element of unpredictability, but can be foreseen when regular inclement weather takes on more menacing features. And should therefore be safeguarded against.

Relevant tables:
```{r tables}
# producing table of overall stats
summary(storm_data$FATALITIES)
```
  Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
0.0000   0.0000   0.0000   0.0168   0.0000 583.0000 